<div class="container"
      fxLayout="column">

  <h1 class="title"
      fxLayoutAlign="left">KATEGORIE
  </h1>

  <!-- Search Category -->
  <div class="search-category"
       fxLayoutAlign="center">
    <mat-form-field>
      <input type="text"
             placeholder="Pick one"
             aria-label="Number"
             matInput
             [formControl]="this.categoriesControl"
             [matAutocomplete]="auto">
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
          {{option}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
  </div>

  <!-- Categories View -->
  <div fxLayoutAlign="center"
        fxLayout="row wrap">
    <div class="test"
         fxLayoutAlign="center"
         *ngFor="let category of this.categoriesList; let i = index">
      <div class="category-container"
           [ngStyle]="{'border': '4px solid ' + category.color}"
           *ngIf="isContaing(category.title)">
        <p class="category-name" fxLayoutAlign="center">{{category.title}}
          <input alt="options"
            class="option-button"
            type="image"
            (click)="openEditCategoryDialog(i)"
            src="assets/images/option_icon.png" alt="options">
          </p>

        <div class="subcategories-container"
             fxLayout="row wrap"
             fxLayoutAlign="center">
          <div class="subcategory"
               *ngFor="let subcategory of category.subcategories"
               [ngStyle]="{'background-color': subcategory.color}"
               fxFlex="17%"
               fxLayoutAlign="center">
            {{ subcategory.title }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Button -->
  <div fxFlex="100%"
       fxLayoutAlign="center">
    <button mat-flat-button
            color="accent"
            type="submit"
            class="add-category-button"
            (click)="addCategory()">Dodaj kategorie
    </button>
  </div>
</div>


